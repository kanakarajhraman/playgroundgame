<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Playground Energy Explorer | P5 Science</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- HEADER / NAVIGATION -->
        <header class="phet-header">
            <button id="homeBtn" class="home-icon" title="Go to Playground Map">üè†</button>
            <div class="header-title">
                <h1>Energy Explorer</h1>
                <span class="sub-topic">Singapore P5 Science: Energy Conversions</span>
            </div>
            <div class="score-display">
                Progress: <span id="progressText">0/5</span> | Score: <span id="totalScore">0</span>
            </div>
        </header>

        <!-- MAIN PLAYGROUND MAP -->
        <section id="view-map" class="view">
            <div class="playground-scene">
                <div class="sky"></div>
                <div class="grass">
                    <!-- Clickable Playground Components -->
                    <div class="equipment swing" onclick="app.loadComponent('swing')">
                        <div class="hitbox"></div>
                        <span class="label">Swing</span>
                    </div>
                    <div class="equipment seesaw" onclick="app.loadComponent('seesaw')">
                        <div class="hitbox"></div>
                        <span class="label">See-saw</span>
                    </div>
                    <div class="equipment slide" onclick="app.loadComponent('slide')">
                        <div class="hitbox"></div>
                        <span class="label">Slide</span>
                    </div>
                    <div class="equipment roundabout" onclick="app.loadComponent('roundabout')">
                        <div class="hitbox"></div>
                        <span class="label">Merry-Go-Round</span>
                    </div>
                    <div class="equipment climber" onclick="app.loadComponent('climber')">
                        <div class="hitbox"></div>
                        <span class="label">Climbing Frame</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- COMPONENT FOCUS (SIMULATION) VIEW -->
        <section id="view-component" class="view hidden">
            <div class="sim-wrapper">
                
                <!-- Left: Simulation Side -->
                <div class="sim-main">
                    <h2 id="comp-title">Equipment Name</h2>
                    
                    <div class="interactive-stage">
                        <!-- ENERGY GRAPH (PhET Style) -->
                        <div class="energy-graph">
                            <div class="bar-container">
                                <div id="bar-ke" class="bar ke"></div>
                                <span>KE</span>
                            </div>
                            <div class="bar-container">
                                <div id="bar-gpe" class="bar gpe"></div>
                                <span>GPE</span>
                            </div>
                            <div class="bar-container">
                                <div id="bar-thermal" class="bar thermal"></div>
                                <span>Heat</span>
                            </div>
                            <div class="graph-label">Energy</div>
                        </div>

                        <!-- SVG ANIMATION CONTAINER -->
                        <div id="svg-host">
                            <!-- Swing SVG -->
                            <svg id="svg-swing" class="sim-svg hidden" viewBox="0 0 400 400">
                                <line x1="100" y1="50" x2="300" y2="50" stroke="#5d4037" stroke-width="8"/>
                                <line id="swing-rope-1" x1="200" y1="50" x2="200" y2="250" stroke="#333" stroke-width="3"/>
                                <rect id="swing-seat" x="170" y="250" width="60" height="10" fill="#2196F3" rx="2"/>
                                <circle id="swing-pivot" cx="200" cy="50" r="5" fill="#000"/>
                            </svg>
                            <!-- Placeholder for others -->
                            <div id="other-placeholder" class="hidden">
                                <p>Interactive Simulation Loading...</p>
                            </div>
                        </div>
                    </div>

                    <!-- CONTROLS -->
                    <div class="sim-controls">
                        <div class="control-group">
                            <label id="slider-label">Scrub Motion:</label>
                            <input type="range" id="sim-slider" min="0" max="100" value="0">
                            <div class="slider-ticks">
                                <span>Start</span>
                                <span>Bottom</span>
                                <span>End</span>
                            </div>
                        </div>
                        <button id="resetSimBtn" class="phet-btn">Reset</button>
                    </div>
                </div>

                <!-- Right: Learning/Quiz Side -->
                <div class="sim-sidebar">
                    <div class="explanation-panel">
                        <h3>Energy Conversion</h3>
                        <p id="comp-explanation"></p>
                    </div>

                    <div class="quiz-panel">
                        <h3>Challenge</h3>
                        <div id="quiz-container"></div>
                    </div>
                </div>
            </div>
            
            <footer class="sim-footer">
                <button onclick="app.showView('view-map')" class="phet-btn">Back to Playground</button>
            </footer>
        </section>
    </div>
    <script src="script.js"></script>
</body>
</html>